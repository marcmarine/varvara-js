---
import { getEntry, render } from 'astro:content'
import Layout from '../layouts/Page.astro'
import ContentNavigation from '../components/ContentNavigation.astro'

const entry = await getEntry('docs', 'index')
if (entry === undefined) {
  return Astro.redirect("/404");
}

const { Content, headings } = await render(entry)

const links = headings
  .filter(heading => heading.depth === 2)
  .map(heading => ({
    text: heading.text,
    href: `/get-started#${heading.slug}`
  }))
---

<Layout items={links} backHref="/">
  <Content />
  <ContentNavigation
    items={[
      { href: '/', text: 'Home' },
      { href: '/variables', text: 'CSS Variables' }
    ]}
  />
</Layout>
